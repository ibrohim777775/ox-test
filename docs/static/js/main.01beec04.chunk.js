(this["webpackJsonpox-task"]=this["webpackJsonpox-task"]||[]).push([[0],{150:function(t,e,a){},170:function(t,e,a){},176:function(t,e,a){},250:function(t,e,a){},251:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),o=a(38),s=a.n(o),r=(a(150),a(139)),i=a(22),u=a(79),l=a(65),j=a(41),p=a(67),d=a.n(p),b=a(257),h=a(107),m=a(131),O=(a(170),a(19)),f="https://".concat("face",".ox-sys.com/security/auth_check"),x=function(){var t=Object(n.useState)({login:"",password:""}),e=Object(j.a)(t,2),a=e[0],c=e[1],o=Object(n.useState)(!1),s=Object(j.a)(o,2),r=s[0],p=s[1],x=Object(b.a)(["token"]),g=Object(j.a)(x,2),v=(g[0],g[1]),_=Object(n.useState)(!1),w=Object(j.a)(_,2),k=w[0],N=w[1],y=function(t){var e=new URLSearchParams;e.append("_username",t.login),e.append("_password",t.password),e.append("_subdomain","face");d.a.post(f,e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){200===e.status&&(p(!1),console.log("avtorizatsiyadan otdingiz"),localStorage.setItem("username",t.login),v("token",e.data.token,{path:"/",maxAge:e.data.lifetime}),setTimeout((function(){N(!0)}),3e3))})).catch((function(t){console.log(t),p(!0)}))},S=function(t){p(!1),c(Object(l.a)(Object(l.a)({},a),{},Object(u.a)({},t.target.name,t.target.value)))};return Object(O.jsxs)("div",{className:"auth",children:[Object(O.jsx)("div",{className:"auth__main",children:Object(O.jsxs)("form",{className:"auth__form",children:[Object(O.jsxs)("div",{className:"form__group",children:[Object(O.jsx)(h.b,{className:"user-icon"}),Object(O.jsx)("input",{name:"login",onChange:S,type:"text",className:"form__input",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u044f"})]}),Object(O.jsxs)("div",{className:"form__group",children:[Object(O.jsx)(m.a,{className:"key-icon"}),Object(O.jsx)("input",{name:"password",onChange:S,onKeyPress:function(t){"Enter"===t.code&&(a.login.trim().length<3||a.password.trim().length<3?p(!0):y(a))},type:"password",className:"form__input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(O.jsx)("button",{onClick:function(t){return function(t){t.preventDefault(),a.login.trim().length<3||a.password.trim().length<3?p(!0):y(a)}(t)},type:"submit",className:"form__button",children:Object(O.jsx)(h.a,{})}),Object(O.jsx)("p",{className:"error",children:r?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":""}),k?Object(O.jsx)(i.a,{to:"/products"}):""]})}),Object(O.jsx)("div",{className:"auth__top"}),Object(O.jsx)("div",{className:"auth__bottom"})]})},g=a(73),v=a(256),_=a(255),w=(a(176),[{exact:!0,path:"/",component:k},{exact:!0,path:"/products",component:function(){var t=Object(n.useState)(""),e=Object(j.a)(t,2),a=(e[0],e[1]),c=Object(b.a)(["token"]),o=Object(j.a)(c,2),s=o[0],r=(o[1],Object(n.useState)([""])),i=Object(j.a)(r,2),u=i[0],p=i[1],h=Object(n.useState)(Object(g.a)(u)),m=Object(j.a)(h,2),f=m[0],x=m[1],w=Object(n.useState)(""),k=Object(j.a)(w,2),N=(k[0],k[1]),y="https://face.ox-sys.com/variations",S={size:1,page:2,stock:{exist:!0,location:[42]}};Object(n.useEffect)((function(){a(s.token),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.token;d.a.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat(t),e}),(function(t){return Promise.reject(t)}));var e={headers:{"Content-Type":"application/json",Authorization:"Bearer {".concat(t,"}")}};d.a.get(y,S,e).then((function(t){p(Object(g.a)(t.data.items)),x(Object(g.a)(t.data.items))})).catch((function(t){return console.log(t)}))}(s.token)}),[]);return Object(O.jsxs)("div",{className:"products",children:[Object(O.jsx)("h1",{children:"Hello "}),Object(O.jsx)(v.a,{type:"text",className:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430 \u043f\u043e \u0438\u043c\u0435\u043d\u0438",onChange:function(t){N(t.target.value);var e=t.target.value.trim().toUpperCase(),a=e.length>0?f.filter((function(t){if(t.name.toUpperCase().indexOf(e)>0||0===t.name.toUpperCase().indexOf(e))return Object(l.a)({},t)})):Object(g.a)(u);console.log(a,"newarrr"),x(a.sort())}}),Object(O.jsx)(_.a,{columns:[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",dataIndex:"name",width:150},{title:"\u0426\u0435\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u0430",dataIndex:"stocks[0].sellPrice.UZS",width:150},{title:"\u0424\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430",dataIndex:"images[0].urls.300x_",width:150}],dataSource:f,pagination:{pageSize:5},scroll:{y:840}})]})}},{exact:!0,path:"/auth",component:x}]);a(250);var k=function(){return Object(O.jsxs)(r.a,{basename:"/ox-test",children:[Object(O.jsx)(i.a,{to:"/auth"}),w.map((function(t,e){return Object(O.jsx)(i.b,{exact:t.exact,path:t.path,component:t.component},e)}))]})},N=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,258)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,o=e.getLCP,s=e.getTTFB;a(t),n(t),c(t),o(t),s(t)}))},y=a(254);s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(y.a,{children:Object(O.jsx)(k,{})})}),document.getElementById("root")),N()}},[[251,1,2]]]);
//# sourceMappingURL=main.01beec04.chunk.js.map