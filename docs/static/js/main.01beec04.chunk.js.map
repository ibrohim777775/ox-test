{"version":3,"sources":["containers/Auth/Auth.jsx","routes.js","containers/products/Products.jsx","App.js","reportWebVitals.js","index.js"],"names":["URL_FOR_AUTH","Auth","useState","login","password","items","setItems","error","setError","useCookies","setCookies","isLoggedIn","setIsLoggedIn","getToken","params","URLSearchParams","append","axios","post","headers","then","res","status","console","log","localStorage","setItem","data","token","path","maxAge","lifetime","setTimeout","catch","err","onChangeHandler","e","target","name","value","className","onChange","type","placeholder","onKeyPress","code","trim","length","onClick","preventDefault","submitHandler","to","Routes","exact","component","App","setToken","cookies","setData","bufer","setBufer","setKeyForSearch","URL_FOR_DATA","size","page","stock","exist","location","useEffect","interceptors","request","use","config","authorization","Promise","reject","get","getData","key","toUpperCase","newArr","filter","product","indexOf","sort","columns","title","dataIndex","width","dataSource","pagination","pageSize","scroll","y","basename","routes","map","item","index","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","CookiesProvider","document","getElementById"],"mappings":"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","file":"static/js/main.01beec04.chunk.js","sourcesContent":["import axios from 'axios';\nimport { useCookies } from 'react-cookie';\n\nimport {FaUserAlt, FaArrowRight} from 'react-icons/fa';\nimport {RiKeyFill} from 'react-icons/ri';\nimport './style.css';\n\n\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router';\n\nconst SUBDOMAIN = 'face';\nconst URL_FOR_AUTH = `https://${SUBDOMAIN}.ox-sys.com/security/auth_check`;\n\n//  https://${SUBDOMAIN}.ox-sys.com/security/auth_check\nconst Auth = () => {\n  const [items, setItems] = useState({login:'', password: ''});\n  const [error, setError] = useState(false);\n  const [cookies,setCookies] = useCookies(['token']);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  const getToken = (items) =>{\n    const params = new URLSearchParams()\n    params.append('_username', items.login);\n    params.append('_password',items.password);\n    params.append('_subdomain', 'face');\n    const config = {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    }\n    axios.post(\n      URL_FOR_AUTH,params,config\n    )\n    .then(res=>{\n      // console.log(res.data)\n      if (res.status === 200){\n        setError(false);\n        console.log('avtorizatsiyadan otdingiz');\n        localStorage.setItem('username',items.login);\n        setCookies('token', res.data.token,{path:'/', maxAge: res.data.lifetime});\n        setTimeout(() => {\n          setIsLoggedIn(true);\n          \n        }, 3000);\n      };\n      \n    })\n    .catch(err=> {\n      console.log(err)\n      setError(true)\n    })\n  };\n  const submitHandler = (e) =>{\n    e.preventDefault();\n    // console.log(items)\n    \n    if (items.login.trim().length < 3 || items.password.trim().length<3){\n      setError(true);\n    } else getToken(items);\n  }\n  \n  const onChangeHandler = (e)=>{\n    setError(false)\n    setItems({...items, [e.target.name]: e.target.value});\n    // console.log(items)\n  }\n  const keyPressHandler = (e) =>{\n    // console.log(e.code)\n    if (e.code === 'Enter'){\n      if (items.login.trim().length < 3 || items.password.trim().length<3){\n        setError(true);\n      } else getToken(items);\n    }\n  }\n  \n  return (\n    <div className='auth'>\n      <div className=\"auth__main\">\n        <form  className=\"auth__form\">\n          <div className=\"form__group\">\n            <FaUserAlt className='user-icon'/>\n            <input name='login' onChange={onChangeHandler} type=\"text\" className=\"form__input\" placeholder='Имя ползователья'  />\n          </div>\n          <div className=\"form__group\">\n            <RiKeyFill className='key-icon'/>\n            <input name='password' onChange={onChangeHandler} onKeyPress={keyPressHandler} type=\"password\" className=\"form__input\" placeholder='Пароль' />\n          </div>\n          <button onClick={(e)=>submitHandler(e,true)} type='submit' className=\"form__button\">\n            <FaArrowRight/> \n          </button>\n          <p className=\"error\">{error ? 'Неверный логин или пароль' : ''}</p>\n          {isLoggedIn ? <Redirect to='/products'/>  : ''}\n        </form>\n      </div>\n      <div className=\"auth__top\"></div>\n      <div className=\"auth__bottom\"></div>\n    </div>\n  );\n}\n\nexport default Auth;\n","import App from \"./App\";\nimport Products from \"./containers/products/Products\";\nimport Auth from \"./containers/Auth/Auth\";\n\nconst Routes = [\n  { exact: true, path: \"/\", component: App },\n  { exact: true, path: \"/products\", component: Products },\n  { exact: true, path: \"/auth\", component: Auth },\n];\nexport default Routes;\n","import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport {Table, Input} from 'antd';\n\nimport './style.css'\n\nconst Products = () => {\n  const [token,setToken]= useState('');\n  const [cookies,setCookies] = useCookies(['token']);\n  const [data,setData]= useState(['']);\n  const [bufer, setBufer] = useState([...data]);\n  const [keyForSearch, setKeyForSearch] = useState('');\n\n  const URL_FOR_DATA = 'https://face.ox-sys.com/variations';\n  const params = {\n    size: 1,\n    page: 2,\n    stock: {\n      exist: true,\n      location: [42]\n    }\n  }\n  \n  const getData = (token=cookies.token) => {\n    axios.interceptors.request.use(\n      config=>{\n        config.headers.authorization = `Bearer ${token}`;\n        return config\n      },\n      error=>{\n        return Promise.reject(error)\n      }\n    )\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer {${token}}`\n      }\n    };\n    axios.get(URL_FOR_DATA, params, config)\n      .then(res=>{\n        // console.log(res.data);\n        setData([...res.data.items]);\n        setBufer([...res.data.items])\n      })\n      .catch(err=> console.log(err))\n  }\n  useEffect(() => {\n    setToken(cookies.token);\n    // console.log(cookies.token);\n    getData(cookies.token)\n   \n  }, []);\n  const onChangeHandler = (e) =>{\n    setKeyForSearch(e.target.value);\n    let key = e.target.value.trim().toUpperCase();\n    let newArr = key.length > 0 ? bufer.filter(product=>{\n      if (product.name.toUpperCase().indexOf(key)>0 || product.name.toUpperCase().indexOf(key)===0) return {...product};\n    }) : [...data];\n    // if (key.length > 0){ data.map(product=> {\n    //   let name = product.name.toUpperCase();\n    //   // console.log(key,'keyyy');\n    //   // console.log(name, 'nameee');\n    //   if (name.indexOf(key)>=0 ) newArr.push({...product});\n    // })}else [...data];\n    console.log(newArr,'newarrr');\n    setBufer(newArr.sort());\n  }\n  \n  const columns = [\n    {\n      title: 'Названые товара',\n      dataIndex: 'name',\n      width: 150\n    }, \n    {\n      title: 'Цена товара',\n      dataIndex: 'stocks[0].sellPrice.UZS',\n      width: 150\n    },\n    {\n      title: 'Фото товара',\n      dataIndex: 'images[0].urls.300x_',\n      width: 150\n    }\n  ];\n  \n  // console.log(token)\n  // console.log(data,'----dataaa')\n  return (\n    <div className='products'>\n      <h1>Hello </h1>\n      <Input type=\"text\" className=\"search\" placeholder='Поиск товара по имени' onChange={onChangeHandler} />\n      <Table  columns={columns} dataSource={bufer} pagination={{ pageSize: 5 }} scroll={{ y: 840 }} />\n    </div>\n  );\n}\n\nexport default Products;\n//Join Zoom Meeting\n// https://us05web.zoom.us/j/9923085963?pwd=N3F1a3NZZlRxOER6c1FCYmd1cnNoQT09\n// \n// Meeting ID: 992 308 5963\n// Passcode: H287SC\n\n\n\n","import { BrowserRouter } from \"react-router-dom\";\nimport { Redirect, Route } from \"react-router\";\nimport Auth from \"./containers/Auth/Auth\";\nimport routes from \"./routes\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <BrowserRouter basename=\"/ox-test\">\n      <Redirect to=\"/auth\" />\n      {routes.map((item, index) => (\n        <Route\n          key={index}\n          exact={item.exact}\n          path={item.path}\n          component={item.component}\n        />\n      ))}\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { CookiesProvider } from \"react-cookie\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <CookiesProvider>\n      <App />\n    </CookiesProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}